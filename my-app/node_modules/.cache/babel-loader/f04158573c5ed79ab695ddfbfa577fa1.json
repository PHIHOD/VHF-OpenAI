{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phili\\\\OneDrive\\\\Dokumenter\\\\VHF-OpenAI\\\\my-app\\\\src\\\\Comp\\\\dic.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nimport Icon from \"../icon.png\";\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\nimport { v1 as uuidv1 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AutoshipImg = Icon;\nconst userImg = \"https://images.unsplash.com/photo-1583857671904-a716bf4ee5d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1780&q=80\";\n\nconst axios = require(\"axios\");\n\nconst Messages = _ref => {\n  _s();\n\n  let {\n    messages\n  } = _ref;\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-lg\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Messages, \"0epSoi03NVSoD0I0FiLK4iVNXOA=\");\n\n_c = Messages;\n\nconst Dictaphone = () => {\n  _s2();\n\n  let content = \"Your name is Automat Express. You are the mind of an autonomous ship sailing at sea. You are meeting my ship which I am steering. I am on your starboard side. To avoid collision, you have decided to let me go first by slowing down.\\n\\nYou: Automat Express, come in.\\nAutomat Express: This is Automat Express. I'm receiving you.\";\n  let testOpenAIdata = {\n    id: \"cmpl-5AbWPFQDkUyS6x9Hkj3P1ck8W6ydt\",\n    object: \"text_completion\",\n    created: 1653209197,\n    model: \"text-davinci-002\",\n    choices: [{\n      text: \"Automat Express: Test.\",\n      //slett dette\n      index: 0,\n      logprobs: null,\n      finish_reason: \"stop\"\n    }]\n  };\n  const [messages2, setMessages2] = useState([]); ///here is the test message from Open AI\n  //const [messages, setMessages] = useState([]);\n\n  const logMessages = () => {\n    console.log(\"MESSAGES2 OBJECT: \");\n    console.log(messages2);\n    console.log(\"MESSAGES WITH CONTENT: \");\n    let messages2fixed = messages2.join().replace(\",\", \"\\n\");\n    console.log(content + messages2fixed);\n    content = content + messages2fixed;\n    console.log(\"TO OPEN API: \");\n    console.log(content);\n  };\n\n  const addMessages = () => {\n    if (inputText) {\n      setMessages2(m => [...m, \"\\nYou: \" + inputText]);\n    }\n\n    console.log(messages2);\n    console.log(content + messages2.toString());\n  };\n\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n\n  if (transcript !== \"\" && !listening) {\n    resetTranscript();\n  }\n\n  const [inputText, setInputText] = useState(\"\");\n\n  if (!browserSupportsSpeechRecognition) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Browser doesn't support speech recognition.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 12\n    }, this);\n  }\n\n  async function makeGetRequest() {\n    if (inputText) {\n      let header = {\n        headers: {\n          Authorization: `Bearer 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`\n        }\n      };\n      console.log(\"MESSAGES WITH CONTENT: \");\n      let messages2fixed = messages2.join().replace(\",\", \"\\n\");\n      console.log(content + messages2fixed);\n      content = content + messages2fixed;\n      console.log(\"THIS IS SENT TO OPENAPI\");\n      console.log(content);\n      let payload = {\n        prompt: content + \"\\nYou: \" + inputText + \"\\nAutomat Express: \",\n        temperature: 0.5,\n        max_tokens: 100,\n        top_p: 1,\n        frequency_penalty: 0,\n        presence_penalty: 0.6,\n        stop: [\"You:\", \" Automat Express:\"]\n      };\n      let res = await axios.post(\"https://api.openai.com/v1/engines/text-davinci-002/completions\", payload, header);\n      let OpenAIdata = res.data; //remove /n\n\n      let StringOpenAIdata = OpenAIdata.choices[0].text.replace(\"\\n\\n\", \"\");\n      console.log(StringOpenAIdata);\n      setMessages2(m => [...m, \"Automat Express: \" + StringOpenAIdata]);\n    } else console.log(\"Not allowed to send request without content\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1  justify-between flex flex-col h-full py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute text-green-500 right-0 bottom-0\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"8\",\n                  cy: \"8\",\n                  r: \"8\",\n                  fill: \"currentColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: AutoshipImg,\n              alt: \"\",\n              className: \"w-10 sm:w-12 h-10 sm:h-12 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-8 flex flex-col leading-tight\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-l mt-1 flex items-start\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mr-3\",\n                children: \"Automat Express (MASS)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-l mt-1 flex items-start\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"IMO 2108198\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex items-center justify-center rounded-none border h-10 w-10 transition duration-100 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              strokeWidth: 2,\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex items-center justify-center rounded-none border h-10 w-10 transition duration-100 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              strokeWidth: 2,\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full my-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col h-full overflow-scroll\",\n        children: /*#__PURE__*/_jsxDEV(Messages, {\n          messages: messages2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addButton\",\n        onClick: addMessages,\n        children: \"Add message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addButton\",\n        onClick: logMessages,\n        children: \"|| console.log Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 italic text-gray-500 flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: listening ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500 absolute \",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"8\",\n                  cy: \"8\",\n                  r: \"8\",\n                  fill: \"currentColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"animate-ping text-red-500 absolute \",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"8\",\n                  cy: \"8\",\n                  r: \"8\",\n                  fill: \"currentColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-6\",\n          children: transcript\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"inputMessage\",\n            type: \"text\",\n            placeholder: \"Write a message ... \",\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            className: \"border-none py-3 resize-none h-full w-full overflow-visible focus:outline-none focus:placeholder-gray-400 text-gray-900 placeholder-gray-600 px-4 bg-gray-200 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full items-end inset-y-0 flex\",\n          children: inputText ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex items-end justify-center rounded-md-none px-4 py-8 transition duration-100 ease-in-out text-white bg-neutral-600 hover:bg-neutral-400 focus:outline-none\",\n            onClick: e => {\n              e.preventDefault();\n              resetTranscript();\n              setInputText(\"\");\n              addMessages();\n              makeGetRequest(); //REQUEST REQUEST\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              className: \"h-4 w-4 ml-2 transform rotate-90\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: true,\n            type: \"button\",\n            className: \" inline-flex items-end justify-center rounded-md-none px-4 py-8 transition duration-100 ease-in-out text-white bg-neutral-300  focus:outline-none\",\n            onClick: e => {\n              e.preventDefault();\n              resetTranscript();\n              setInputText(\"\");\n              addMessages();\n              makeGetRequest(); //REQUEST REQUEST\n              //update content string\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              className: \"h-4 w-4 ml-2 transform rotate-90\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"inline-flex \\r w-full mt-4 items-center justify-center rounded-none px-4 py-3\\r active:bg-red-500 focus:ring focus:ring-red-300 transition duration-100 ease-in-out text-white bg-neutral-600 hover:bg-neutral-400 focus:outline-none\",\n        onMouseDown: () => {\n          resetTranscript();\n          SpeechRecognition.startListening({\n            continuous: true\n          });\n        },\n        onMouseUp: () => {\n          SpeechRecognition.stopListening();\n          setInputText(transcript);\n          resetTranscript();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          className: \"h-6 w-6 text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: listening ? \"Listening . . . \" : \"Press to talk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Dictaphone, \"zIyabWfOFLJQVsxbiPRtNEUHD2A=\", false, function () {\n  return [useSpeechRecognition];\n});\n\n_c2 = Dictaphone;\nexport default Dictaphone;\n/*\r\n<div>\r\n          <p>Microphone: {listening ? \"on\" : \"off\"}</p>\r\n          <p>Message: {transcript}</p>\r\n          <button onClick={SpeechRecognition.startListening}>Start</button>\r\n          <button onClick={SpeechRecognition.stopListening}>Stop</button>\r\n          <button onClick={resetTranscript}>Reset</button>\r\n        </div>*/\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Messages\");\n$RefreshReg$(_c2, \"Dictaphone\");","map":{"version":3,"sources":["C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/src/Comp/dic.jsx"],"names":["React","useState","useEffect","useRef","Icon","SpeechRecognition","useSpeechRecognition","v1","uuidv1","AutoshipImg","userImg","axios","require","Messages","messages","messagesEndRef","scrollToBottom","current","scrollIntoView","behavior","map","message","Dictaphone","content","testOpenAIdata","id","object","created","model","choices","text","index","logprobs","finish_reason","messages2","setMessages2","logMessages","console","log","messages2fixed","join","replace","addMessages","inputText","m","toString","transcript","listening","resetTranscript","browserSupportsSpeechRecognition","setInputText","makeGetRequest","header","headers","Authorization","payload","prompt","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","stop","res","post","OpenAIdata","data","StringOpenAIdata","e","target","value","preventDefault","startListening","continuous","stopListening"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport Icon from \"../icon.png\";\r\nimport SpeechRecognition, {\r\n  useSpeechRecognition,\r\n} from \"react-speech-recognition\";\r\nimport { v1 as uuidv1 } from \"uuid\";\r\nconst AutoshipImg = Icon;\r\nconst userImg =\r\n  \"https://images.unsplash.com/photo-1583857671904-a716bf4ee5d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1780&q=80\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nconst Messages = ({ messages }) => {\r\n  const messagesEndRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n  useEffect(scrollToBottom, [messages]);\r\n\r\n  return (\r\n    <div className=\"\">\r\n      {messages.map((message) => (\r\n        <div>\r\n          <span className=\"text-lg\">{message}</span>\r\n          <br></br>\r\n          <br></br>\r\n        </div>\r\n      ))}\r\n      <div ref={messagesEndRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Dictaphone = () => {\r\n  let content =\r\n    \"Your name is Automat Express. You are the mind of an autonomous ship sailing at sea. You are meeting my ship which I am steering. I am on your starboard side. To avoid collision, you have decided to let me go first by slowing down.\\n\\nYou: Automat Express, come in.\\nAutomat Express: This is Automat Express. I'm receiving you.\";\r\n\r\n  let testOpenAIdata = {\r\n    id: \"cmpl-5AbWPFQDkUyS6x9Hkj3P1ck8W6ydt\",\r\n    object: \"text_completion\",\r\n    created: 1653209197,\r\n    model: \"text-davinci-002\",\r\n    choices: [\r\n      {\r\n        text: \"Automat Express: Test.\", //slett dette\r\n        index: 0,\r\n        logprobs: null,\r\n        finish_reason: \"stop\",\r\n      },\r\n    ],\r\n  };\r\n  const [messages2, setMessages2] = useState([]); ///here is the test message from Open AI\r\n\r\n  //const [messages, setMessages] = useState([]);\r\n  const logMessages = () => {\r\n    console.log(\"MESSAGES2 OBJECT: \");\r\n    console.log(messages2);\r\n    console.log(\"MESSAGES WITH CONTENT: \");\r\n    let messages2fixed = messages2.join().replace(\",\", \"\\n\");\r\n    console.log(content + messages2fixed);\r\n    content = content + messages2fixed;\r\n    console.log(\"TO OPEN API: \");\r\n    console.log(content);\r\n  };\r\n  const addMessages = () => {\r\n    if (inputText) {\r\n      setMessages2((m) => [...m, \"\\nYou: \" + inputText]);\r\n    }\r\n\r\n    console.log(messages2);\r\n    console.log(content + messages2.toString());\r\n  };\r\n\r\n  const {\r\n    transcript,\r\n    listening,\r\n    resetTranscript,\r\n    browserSupportsSpeechRecognition,\r\n  } = useSpeechRecognition();\r\n  if (transcript !== \"\" && !listening) {\r\n    resetTranscript();\r\n  }\r\n  const [inputText, setInputText] = useState(\"\");\r\n  if (!browserSupportsSpeechRecognition) {\r\n    return <span>Browser doesn't support speech recognition.</span>;\r\n  }\r\n\r\n  async function makeGetRequest() {\r\n    if (inputText) {\r\n      let header = {\r\n        headers: {\r\n          Authorization: `Bearer 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`,\r\n        },\r\n      };\r\n\r\n      console.log(\"MESSAGES WITH CONTENT: \");\r\n      let messages2fixed = messages2.join().replace(\",\", \"\\n\");\r\n      console.log(content + messages2fixed);\r\n      content = content + messages2fixed;\r\n      console.log(\"THIS IS SENT TO OPENAPI\");\r\n      console.log(content);\r\n\r\n      let payload = {\r\n        prompt: content + \"\\nYou: \" + inputText + \"\\nAutomat Express: \",\r\n        temperature: 0.5,\r\n        max_tokens: 100,\r\n        top_p: 1,\r\n        frequency_penalty: 0,\r\n        presence_penalty: 0.6,\r\n        stop: [\"You:\", \" Automat Express:\"],\r\n      };\r\n\r\n      let res = await axios.post(\r\n        \"https://api.openai.com/v1/engines/text-davinci-002/completions\",\r\n        payload,\r\n        header\r\n      );\r\n\r\n      let OpenAIdata = res.data;\r\n      //remove /n\r\n      let StringOpenAIdata = OpenAIdata.choices[0].text.replace(\"\\n\\n\", \"\");\r\n      console.log(StringOpenAIdata);\r\n      setMessages2((m) => [...m, \"Automat Express: \" + StringOpenAIdata]);\r\n    } else console.log(\"Not allowed to send request without content\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-1  justify-between flex flex-col h-full py-6\">\r\n      <div>\r\n        <div className=\"flex items-center justify-between space-x-2\">\r\n          <div className=\"relative flex items-center space-x-4\">\r\n            <div className=\"relative\">\r\n              <span className=\"absolute text-green-500 right-0 bottom-0\">\r\n                <svg width=\"20\" height=\"20\">\r\n                  <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"currentColor\"></circle>\r\n                </svg>\r\n              </span>\r\n\r\n              <img\r\n                src={AutoshipImg}\r\n                alt=\"\"\r\n                className=\"w-10 sm:w-12 h-10 sm:h-12 rounded-full\"\r\n              />\r\n            </div>\r\n            <div className=\"ml-8 flex flex-col leading-tight\">\r\n              <div className=\"text-l mt-1 flex items-start\">\r\n                <p className=\"text-gray-700 mr-3\">Automat Express (MASS)</p>\r\n              </div>\r\n              <div className=\"text-l mt-1 flex items-start\">\r\n                <p className=\"text-sm text-gray-600\">IMO 2108198</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"space-x-2\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"inline-flex items-center justify-center rounded-none border h-10 w-10 transition duration-100 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none\"\r\n            >\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth={2}\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"inline-flex items-center justify-center rounded-none border h-10 w-10 transition duration-100 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none\"\r\n            >\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth={2}\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-full my-4\">\r\n        <div className=\"flex flex-col h-full overflow-scroll\">\r\n          <Messages messages={messages2} />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button className=\"addButton\" onClick={addMessages}>\r\n          Add message\r\n        </button>\r\n        <button className=\"addButton\" onClick={logMessages}>\r\n          || console.log Messages\r\n        </button>\r\n        <div className=\"mb-2 italic text-gray-500 flex\">\r\n          <div>\r\n            {listening ? (\r\n              <div className=\"mb-4\">\r\n                <span className=\"text-red-500 absolute \">\r\n                  <svg width=\"20\" height=\"20\">\r\n                    <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"currentColor\"></circle>\r\n                  </svg>\r\n                </span>\r\n                <span className=\"animate-ping text-red-500 absolute \">\r\n                  <svg width=\"20\" height=\"20\">\r\n                    <circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"currentColor\"></circle>\r\n                  </svg>\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"ml-6\">{transcript}</div>\r\n        </div>\r\n        <div className=\"relative flex justify-between\">\r\n          <div className=\"w-full\">\r\n            <textarea\r\n              id=\"inputMessage\"\r\n              type=\"text\"\r\n              placeholder=\"Write a message ... \"\r\n              value={inputText}\r\n              onChange={(e) => setInputText(e.target.value)}\r\n              className=\"border-none py-3 resize-none h-full w-full overflow-visible focus:outline-none focus:placeholder-gray-400 text-gray-900 placeholder-gray-600 px-4 bg-gray-200 \"\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"h-full items-end inset-y-0 flex\">\r\n            {inputText ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"inline-flex items-end justify-center rounded-md-none px-4 py-8 transition duration-100 ease-in-out text-white bg-neutral-600 hover:bg-neutral-400 focus:outline-none\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  resetTranscript();\r\n                  setInputText(\"\");\r\n\r\n                  addMessages();\r\n                  makeGetRequest(); //REQUEST REQUEST\r\n                }}\r\n              >\r\n                <span className=\"font-semibold\">Send</span>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                  className=\"h-4 w-4 ml-2 transform rotate-90\"\r\n                >\r\n                  <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"></path>\r\n                </svg>\r\n              </button>\r\n            ) : (\r\n              <button\r\n                disabled\r\n                type=\"button\"\r\n                className=\" inline-flex items-end justify-center rounded-md-none px-4 py-8 transition duration-100 ease-in-out text-white bg-neutral-300  focus:outline-none\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  resetTranscript();\r\n                  setInputText(\"\");\r\n\r\n                  addMessages();\r\n                  makeGetRequest(); //REQUEST REQUEST\r\n                  //update content string\r\n                }}\r\n              >\r\n                <span className=\"font-semibold\">Send</span>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                  className=\"h-4 w-4 ml-2 transform rotate-90\"\r\n                >\r\n                  <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"></path>\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"inline-flex \r\n          w-full mt-4 items-center justify-center rounded-none px-4 py-3\r\n           active:bg-red-500 focus:ring focus:ring-red-300 transition duration-100 ease-in-out text-white bg-neutral-600 hover:bg-neutral-400 focus:outline-none\"\r\n          onMouseDown={() => {\r\n            resetTranscript();\r\n            SpeechRecognition.startListening({ continuous: true });\r\n          }}\r\n          onMouseUp={() => {\r\n            SpeechRecognition.stopListening();\r\n            setInputText(transcript);\r\n            resetTranscript();\r\n          }}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            className=\"h-6 w-6 text-white\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\r\n            ></path>\r\n          </svg>\r\n          <span className=\"font-semibold\">\r\n            {listening ? \"Listening . . . \" : \"Press to talk\"}\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dictaphone;\r\n\r\n/*\r\n<div>\r\n          <p>Microphone: {listening ? \"on\" : \"off\"}</p>\r\n          <p>Message: {transcript}</p>\r\n          <button onClick={SpeechRecognition.startListening}>Start</button>\r\n          <button onClick={SpeechRecognition.stopListening}>Stop</button>\r\n          <button onClick={resetTranscript}>Reset</button>\r\n        </div>*/\r\n"]},"metadata":{},"sourceType":"module"}