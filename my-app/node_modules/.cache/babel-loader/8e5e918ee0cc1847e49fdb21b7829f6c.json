{"ast":null,"code":"import _slicedToArray from \"C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toConsumableArray from \"C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"value\", \"name\", \"onChange\", \"disabled\", \"horizontal\", \"multiple\"],\n    _excluded2 = [\"disabled\", \"value\"];\n\nvar _be;\n\nimport w, { Fragment as W, createContext as Q, createRef as k, useCallback as R, useContext as z, useMemo as D, useReducer as $, useRef as j, useEffect as X } from \"react\";\nimport { useDisposables as U } from \"../../hooks/use-disposables.js\";\nimport { useId as F } from \"../../hooks/use-id.js\";\nimport { useIsoMorphicEffect as A } from \"../../hooks/use-iso-morphic-effect.js\";\nimport { useComputed as K } from \"../../hooks/use-computed.js\";\nimport { useSyncRefs as C } from \"../../hooks/use-sync-refs.js\";\nimport { Features as N, forwardRefWithAs as M, render as E, compact as q } from \"../../utils/render.js\";\nimport { match as h } from \"../../utils/match.js\";\nimport { disposables as G } from \"../../utils/disposables.js\";\nimport { Keys as b } from \"../keyboard.js\";\nimport { Focus as m, calculateActiveIndex as J } from \"../../utils/calculate-active-index.js\";\nimport { isDisabledReactIssue7711 as Y } from \"../../utils/bugs.js\";\nimport { isFocusableElement as Z, FocusableMode as ee, sortByDomNode as te } from \"../../utils/focus-management.js\";\nimport { useOpenClosed as oe, State as B, OpenClosedProvider as ne } from \"../../internal/open-closed.js\";\nimport { useResolveButtonType as re } from \"../../hooks/use-resolve-button-type.js\";\nimport { useOutsideClick as ie } from \"../../hooks/use-outside-click.js\";\nimport { Hidden as ae, Features as le } from \"../../internal/hidden.js\";\nimport { objectToFormEntries as se } from \"../../utils/form.js\";\nimport { getOwnerDocument as pe } from \"../../utils/owner.js\";\n\nvar ue = function (n) {\n  return n[n.Open = 0] = \"Open\", n[n.Closed = 1] = \"Closed\", n;\n}(ue || {}),\n    de = function (n) {\n  return n[n.Single = 0] = \"Single\", n[n.Multi = 1] = \"Multi\", n;\n}(de || {}),\n    ce = function (n) {\n  return n[n.Pointer = 0] = \"Pointer\", n[n.Other = 1] = \"Other\", n;\n}(ce || {}),\n    fe = function (a) {\n  return a[a.OpenListbox = 0] = \"OpenListbox\", a[a.CloseListbox = 1] = \"CloseListbox\", a[a.SetDisabled = 2] = \"SetDisabled\", a[a.SetOrientation = 3] = \"SetOrientation\", a[a.GoToOption = 4] = \"GoToOption\", a[a.Search = 5] = \"Search\", a[a.ClearSearch = 6] = \"ClearSearch\", a[a.RegisterOption = 7] = \"RegisterOption\", a[a.UnregisterOption = 8] = \"UnregisterOption\", a;\n}(fe || {});\n\nfunction _2(t) {\n  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (n) {\n    return n;\n  };\n  var n = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n      e = te(i(t.options.slice()), function (p) {\n    return p.dataRef.current.domRef.current;\n  }),\n      o = n ? e.indexOf(n) : null;\n  return o === -1 && (o = null), {\n    options: e,\n    activeOptionIndex: o\n  };\n}\n\nvar be = (_be = {}, _defineProperty(_be, 1, function _(t) {\n  return t.disabled || t.listboxState === 1 ? t : _objectSpread(_objectSpread({}, t), {}, {\n    activeOptionIndex: null,\n    listboxState: 1\n  });\n}), _defineProperty(_be, 0, function _(t) {\n  if (t.disabled || t.listboxState === 0) return t;\n  var i = t.activeOptionIndex,\n      _t$propsRef$current = t.propsRef.current,\n      n = _t$propsRef$current.value,\n      e = _t$propsRef$current.mode,\n      o = t.options.findIndex(function (p) {\n    var _h;\n\n    var r = p.dataRef.current.value;\n    return h(e, (_h = {}, _defineProperty(_h, 1, function _() {\n      return n.includes(r);\n    }), _defineProperty(_h, 0, function _() {\n      return n === r;\n    }), _h));\n  });\n  return o !== -1 && (i = o), _objectSpread(_objectSpread({}, t), {}, {\n    listboxState: 0,\n    activeOptionIndex: i\n  });\n}), _defineProperty(_be, 2, function _(t, i) {\n  return t.disabled === i.disabled ? t : _objectSpread(_objectSpread({}, t), {}, {\n    disabled: i.disabled\n  });\n}), _defineProperty(_be, 3, function _(t, i) {\n  return t.orientation === i.orientation ? t : _objectSpread(_objectSpread({}, t), {}, {\n    orientation: i.orientation\n  });\n}), _defineProperty(_be, 4, function _(t, i) {\n  var o;\n  if (t.disabled || t.listboxState === 1) return t;\n\n  var n = _2(t),\n      e = J(i, {\n    resolveItems: function resolveItems() {\n      return n.options;\n    },\n    resolveActiveIndex: function resolveActiveIndex() {\n      return n.activeOptionIndex;\n    },\n    resolveId: function resolveId(p) {\n      return p.id;\n    },\n    resolveDisabled: function resolveDisabled(p) {\n      return p.dataRef.current.disabled;\n    }\n  });\n\n  return _objectSpread(_objectSpread(_objectSpread({}, t), n), {}, {\n    searchQuery: \"\",\n    activeOptionIndex: e,\n    activationTrigger: (o = i.trigger) != null ? o : 1\n  });\n}), _defineProperty(_be, 5, function _(t, i) {\n  if (t.disabled || t.listboxState === 1) return t;\n  var e = t.searchQuery !== \"\" ? 0 : 1,\n      o = t.searchQuery + i.value.toLowerCase(),\n      r = (t.activeOptionIndex !== null ? t.options.slice(t.activeOptionIndex + e).concat(t.options.slice(0, t.activeOptionIndex + e)) : t.options).find(function (u) {\n    var a;\n    return !u.dataRef.current.disabled && ((a = u.dataRef.current.textValue) == null ? void 0 : a.startsWith(o));\n  }),\n      s = r ? t.options.indexOf(r) : -1;\n  return s === -1 || s === t.activeOptionIndex ? _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: o\n  }) : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: o,\n    activeOptionIndex: s,\n    activationTrigger: 1\n  });\n}), _defineProperty(_be, 6, function _(t) {\n  return t.disabled || t.listboxState === 1 || t.searchQuery === \"\" ? t : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: \"\"\n  });\n}), _defineProperty(_be, 7, function _(t, i) {\n  var n = {\n    id: i.id,\n    dataRef: i.dataRef\n  },\n      e = _2(t, function (o) {\n    return [].concat(_toConsumableArray(o), [n]);\n  });\n\n  if (t.activeOptionIndex === null) {\n    var _h2;\n\n    var _t$propsRef$current2 = t.propsRef.current,\n        o = _t$propsRef$current2.value,\n        p = _t$propsRef$current2.mode,\n        r = i.dataRef.current.value;\n    h(p, (_h2 = {}, _defineProperty(_h2, 1, function _() {\n      return o.includes(r);\n    }), _defineProperty(_h2, 0, function _() {\n      return o === r;\n    }), _h2)) && (e.activeOptionIndex = e.options.indexOf(n));\n  }\n\n  return _objectSpread(_objectSpread({}, t), e);\n}), _defineProperty(_be, 8, function _(t, i) {\n  var n = _2(t, function (e) {\n    var o = e.findIndex(function (p) {\n      return p.id === i.id;\n    });\n    return o !== -1 && e.splice(o, 1), e;\n  });\n\n  return _objectSpread(_objectSpread(_objectSpread({}, t), n), {}, {\n    activationTrigger: 1\n  });\n}), _be),\n    V = Q(null);\nV.displayName = \"ListboxContext\";\n\nfunction I(t) {\n  var i = z(V);\n\n  if (i === null) {\n    var n = new Error(\"<\".concat(t, \" /> is missing a parent <Listbox /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(n, I), n;\n  }\n\n  return i;\n}\n\nfunction Te(t, i) {\n  return h(i.type, be, t, i);\n}\n\nvar xe = W,\n    ye = M(function (i, n) {\n  var _h4;\n\n  var e = i.value,\n      o = i.name,\n      p = i.onChange,\n      _i$disabled = i.disabled,\n      r = _i$disabled === void 0 ? !1 : _i$disabled,\n      _i$horizontal = i.horizontal,\n      s = _i$horizontal === void 0 ? !1 : _i$horizontal,\n      _i$multiple = i.multiple,\n      u = _i$multiple === void 0 ? !1 : _i$multiple,\n      a = _objectWithoutProperties(i, _excluded);\n\n  var y = s ? \"horizontal\" : \"vertical\";\n\n  var g = C(n),\n      v = $(Te, {\n    listboxState: 1,\n    propsRef: {\n      current: {\n        value: e,\n        onChange: p,\n        mode: u ? 1 : 0\n      }\n    },\n    labelRef: k(),\n    buttonRef: k(),\n    optionsRef: k(),\n    disabled: r,\n    orientation: y,\n    options: [],\n    searchQuery: \"\",\n    activeOptionIndex: null,\n    activationTrigger: 1\n  }),\n      _v = _slicedToArray(v, 2),\n      _v$ = _v[0],\n      f = _v$.listboxState,\n      O = _v$.propsRef,\n      S = _v$.optionsRef,\n      d = _v$.buttonRef,\n      l = _v[1];\n\n  O.current.value = e, O.current.mode = u ? 1 : 0, A(function () {\n    O.current.onChange = function (L) {\n      var _h3;\n\n      return h(O.current.mode, (_h3 = {}, _defineProperty(_h3, 0, function _() {\n        return p(L);\n      }), _defineProperty(_h3, 1, function _() {\n        var T = O.current.value.slice(),\n            x = T.indexOf(L);\n        return x === -1 ? T.push(L) : T.splice(x, 1), p(T);\n      }), _h3));\n    };\n  }, [p, O]), A(function () {\n    return l({\n      type: 2,\n      disabled: r\n    });\n  }, [r]), A(function () {\n    return l({\n      type: 3,\n      orientation: y\n    });\n  }, [y]), ie([d, S], function (L, T) {\n    var x;\n    f === 0 && (l({\n      type: 1\n    }), Z(T, ee.Loose) || (L.preventDefault(), (x = d.current) == null || x.focus()));\n  });\n  var c = D(function () {\n    return {\n      open: f === 0,\n      disabled: r\n    };\n  }, [f, r]),\n      P = {\n    ref: g\n  };\n  return w.createElement(V.Provider, {\n    value: v\n  }, w.createElement(ne, {\n    value: h(f, (_h4 = {}, _defineProperty(_h4, 0, B.Open), _defineProperty(_h4, 1, B.Closed), _h4))\n  }, o != null && e != null && se(_defineProperty({}, o, e)).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        L = _ref2[0],\n        T = _ref2[1];\n\n    return w.createElement(ae, _objectSpread({\n      features: le.Hidden\n    }, q({\n      key: L,\n      as: \"input\",\n      type: \"hidden\",\n      hidden: !0,\n      readOnly: !0,\n      name: L,\n      value: T\n    })));\n  }), E({\n    ourProps: P,\n    theirProps: a,\n    slot: c,\n    defaultTag: xe,\n    name: \"Listbox\"\n  })));\n}),\n    Oe = \"button\",\n    ge = M(function (i, n) {\n  var S;\n\n  var _I = I(\"Listbox.Button\"),\n      _I2 = _slicedToArray(_I, 2),\n      e = _I2[0],\n      o = _I2[1],\n      p = C(e.buttonRef, n),\n      r = \"headlessui-listbox-button-\".concat(F()),\n      s = U(),\n      u = R(function (d) {\n    switch (d.key) {\n      case b.Space:\n      case b.Enter:\n      case b.ArrowDown:\n        d.preventDefault(), o({\n          type: 0\n        }), s.nextFrame(function () {\n          e.propsRef.current.value || o({\n            type: 4,\n            focus: m.First\n          });\n        });\n        break;\n\n      case b.ArrowUp:\n        d.preventDefault(), o({\n          type: 0\n        }), s.nextFrame(function () {\n          e.propsRef.current.value || o({\n            type: 4,\n            focus: m.Last\n          });\n        });\n        break;\n    }\n  }, [o, e, s]),\n      a = R(function (d) {\n    switch (d.key) {\n      case b.Space:\n        d.preventDefault();\n        break;\n    }\n  }, []),\n      y = R(function (d) {\n    if (Y(d.currentTarget)) return d.preventDefault();\n    e.listboxState === 0 ? (o({\n      type: 1\n    }), s.nextFrame(function () {\n      var l;\n      return (l = e.buttonRef.current) == null ? void 0 : l.focus({\n        preventScroll: !0\n      });\n    })) : (d.preventDefault(), o({\n      type: 0\n    }));\n  }, [o, s, e]),\n      g = K(function () {\n    if (!!e.labelRef.current) return [e.labelRef.current.id, r].join(\" \");\n  }, [e.labelRef.current, r]),\n      v = D(function () {\n    return {\n      open: e.listboxState === 0,\n      disabled: e.disabled\n    };\n  }, [e]),\n      f = i,\n      O = {\n    ref: p,\n    id: r,\n    type: re(i, e.buttonRef),\n    \"aria-haspopup\": !0,\n    \"aria-controls\": (S = e.optionsRef.current) == null ? void 0 : S.id,\n    \"aria-expanded\": e.disabled ? void 0 : e.listboxState === 0,\n    \"aria-labelledby\": g,\n    disabled: e.disabled,\n    onKeyDown: u,\n    onKeyUp: a,\n    onClick: y\n  };\n\n  return E({\n    ourProps: O,\n    theirProps: f,\n    slot: v,\n    defaultTag: Oe,\n    name: \"Listbox.Button\"\n  });\n}),\n    Re = \"label\",\n    me = M(function (i, n) {\n  var _I3 = I(\"Listbox.Label\"),\n      _I4 = _slicedToArray(_I3, 1),\n      e = _I4[0],\n      o = \"headlessui-listbox-label-\".concat(F()),\n      p = C(e.labelRef, n),\n      r = R(function () {\n    var y;\n    return (y = e.buttonRef.current) == null ? void 0 : y.focus({\n      preventScroll: !0\n    });\n  }, [e.buttonRef]),\n      s = D(function () {\n    return {\n      open: e.listboxState === 0,\n      disabled: e.disabled\n    };\n  }, [e]);\n\n  return E({\n    ourProps: {\n      ref: p,\n      id: o,\n      onClick: r\n    },\n    theirProps: i,\n    slot: s,\n    defaultTag: Re,\n    name: \"Listbox.Label\"\n  });\n}),\n    Le = \"ul\",\n    ve = N.RenderStrategy | N.Static,\n    Se = M(function (i, n) {\n  var d;\n\n  var _I5 = I(\"Listbox.Options\"),\n      _I6 = _slicedToArray(_I5, 2),\n      e = _I6[0],\n      o = _I6[1],\n      p = C(e.optionsRef, n),\n      r = \"headlessui-listbox-options-\".concat(F()),\n      s = U(),\n      u = U(),\n      a = oe(),\n      y = function () {\n    return a !== null ? a === B.Open : e.listboxState === 0;\n  }();\n\n  X(function () {\n    var c;\n    var l = e.optionsRef.current;\n    !l || e.listboxState === 0 && l !== ((c = pe(l)) == null ? void 0 : c.activeElement) && l.focus({\n      preventScroll: !0\n    });\n  }, [e.listboxState, e.optionsRef]);\n  var g = R(function (l) {\n    switch (u.dispose(), l.key) {\n      case b.Space:\n        if (e.searchQuery !== \"\") return l.preventDefault(), l.stopPropagation(), o({\n          type: 5,\n          value: l.key\n        });\n\n      case b.Enter:\n        if (l.preventDefault(), l.stopPropagation(), e.activeOptionIndex !== null) {\n          var c = e.options[e.activeOptionIndex].dataRef;\n          e.propsRef.current.onChange(c.current.value);\n        }\n\n        e.propsRef.current.mode === 0 && (o({\n          type: 1\n        }), G().nextFrame(function () {\n          var c;\n          return (c = e.buttonRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        }));\n        break;\n\n      case h(e.orientation, {\n        vertical: b.ArrowDown,\n        horizontal: b.ArrowRight\n      }):\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Next\n        });\n\n      case h(e.orientation, {\n        vertical: b.ArrowUp,\n        horizontal: b.ArrowLeft\n      }):\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Previous\n        });\n\n      case b.Home:\n      case b.PageUp:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.First\n        });\n\n      case b.End:\n      case b.PageDown:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Last\n        });\n\n      case b.Escape:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 1\n        }), s.nextFrame(function () {\n          var c;\n          return (c = e.buttonRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        });\n\n      case b.Tab:\n        l.preventDefault(), l.stopPropagation();\n        break;\n\n      default:\n        l.key.length === 1 && (o({\n          type: 5,\n          value: l.key\n        }), u.setTimeout(function () {\n          return o({\n            type: 6\n          });\n        }, 350));\n        break;\n    }\n  }, [s, o, u, e]),\n      v = K(function () {\n    var l, c, P;\n    return (P = (l = e.labelRef.current) == null ? void 0 : l.id) != null ? P : (c = e.buttonRef.current) == null ? void 0 : c.id;\n  }, [e.labelRef.current, e.buttonRef.current]),\n      f = D(function () {\n    return {\n      open: e.listboxState === 0\n    };\n  }, [e]),\n      O = i,\n      S = {\n    \"aria-activedescendant\": e.activeOptionIndex === null || (d = e.options[e.activeOptionIndex]) == null ? void 0 : d.id,\n    \"aria-multiselectable\": e.propsRef.current.mode === 1 ? !0 : void 0,\n    \"aria-labelledby\": v,\n    \"aria-orientation\": e.orientation,\n    id: r,\n    onKeyDown: g,\n    role: \"listbox\",\n    tabIndex: 0,\n    ref: p\n  };\n  return E({\n    ourProps: S,\n    theirProps: O,\n    slot: f,\n    defaultTag: Le,\n    features: ve,\n    visible: y,\n    name: \"Listbox.Options\"\n  });\n}),\n    Ae = \"li\",\n    he = M(function (i, n) {\n  var _h5;\n\n  var _i$disabled2 = i.disabled,\n      e = _i$disabled2 === void 0 ? !1 : _i$disabled2,\n      o = i.value,\n      p = _objectWithoutProperties(i, _excluded2),\n      _I7 = I(\"Listbox.Option\"),\n      _I8 = _slicedToArray(_I7, 2),\n      r = _I8[0],\n      s = _I8[1],\n      u = \"headlessui-listbox-option-\".concat(F()),\n      a = r.activeOptionIndex !== null ? r.options[r.activeOptionIndex].id === u : !1,\n      y = h(r.propsRef.current.mode, (_h5 = {}, _defineProperty(_h5, 1, function _() {\n    return r.propsRef.current.value.includes(o);\n  }), _defineProperty(_h5, 0, function _() {\n    return r.propsRef.current.value === o;\n  }), _h5)),\n      g = j(null),\n      v = C(n, g);\n\n  A(function () {\n    if (r.listboxState !== 0 || !a || r.activationTrigger === 0) return;\n    var T = G();\n    return T.requestAnimationFrame(function () {\n      var x, H;\n      (H = (x = g.current) == null ? void 0 : x.scrollIntoView) == null || H.call(x, {\n        block: \"nearest\"\n      });\n    }), T.dispose;\n  }, [g, a, r.listboxState, r.activationTrigger, r.activeOptionIndex]);\n  var f = j({\n    disabled: e,\n    value: o,\n    domRef: g\n  });\n  A(function () {\n    f.current.disabled = e;\n  }, [f, e]), A(function () {\n    f.current.value = o;\n  }, [f, o]), A(function () {\n    var T, x;\n    f.current.textValue = (x = (T = g.current) == null ? void 0 : T.textContent) == null ? void 0 : x.toLowerCase();\n  }, [f, g]);\n  var O = R(function () {\n    return r.propsRef.current.onChange(o);\n  }, [r.propsRef, o]);\n  A(function () {\n    return s({\n      type: 7,\n      id: u,\n      dataRef: f\n    }), function () {\n      return s({\n        type: 8,\n        id: u\n      });\n    };\n  }, [f, u]);\n  var S = R(function (T) {\n    if (e) return T.preventDefault();\n    O(), r.propsRef.current.mode === 0 && (s({\n      type: 1\n    }), G().nextFrame(function () {\n      var x;\n      return (x = r.buttonRef.current) == null ? void 0 : x.focus({\n        preventScroll: !0\n      });\n    }));\n  }, [s, r.buttonRef, e, O]),\n      d = R(function () {\n    if (e) return s({\n      type: 4,\n      focus: m.Nothing\n    });\n    s({\n      type: 4,\n      focus: m.Specific,\n      id: u\n    });\n  }, [e, u, s]),\n      l = R(function () {\n    e || a || s({\n      type: 4,\n      focus: m.Specific,\n      id: u,\n      trigger: 0\n    });\n  }, [e, a, u, s]),\n      c = R(function () {\n    e || !a || s({\n      type: 4,\n      focus: m.Nothing\n    });\n  }, [e, a, s]),\n      P = D(function () {\n    return {\n      active: a,\n      selected: y,\n      disabled: e\n    };\n  }, [a, y, e]);\n  return E({\n    ourProps: {\n      id: u,\n      ref: v,\n      role: \"option\",\n      tabIndex: e === !0 ? void 0 : -1,\n      \"aria-disabled\": e === !0 ? !0 : void 0,\n      \"aria-selected\": y === !0 ? !0 : void 0,\n      disabled: void 0,\n      onClick: S,\n      onFocus: d,\n      onPointerMove: l,\n      onMouseMove: l,\n      onPointerLeave: c,\n      onMouseLeave: c\n    },\n    theirProps: p,\n    slot: P,\n    defaultTag: Ae,\n    name: \"Listbox.Option\"\n  });\n}),\n    tt = Object.assign(ye, {\n  Button: ge,\n  Label: me,\n  Options: Se,\n  Option: he\n});\nexport { tt as Listbox };","map":{"version":3,"sources":["C:/Users/phili/OneDrive/Dokumenter/VHF-OpenAI/my-app/node_modules/@headlessui/react/dist/components/listbox/listbox.js"],"names":["w","Fragment","W","createContext","Q","createRef","k","useCallback","R","useContext","z","useMemo","D","useReducer","$","useRef","j","useEffect","X","useDisposables","U","useId","F","useIsoMorphicEffect","A","useComputed","K","useSyncRefs","C","Features","N","forwardRefWithAs","M","render","E","compact","q","match","h","disposables","G","Keys","b","Focus","m","calculateActiveIndex","J","isDisabledReactIssue7711","Y","isFocusableElement","Z","FocusableMode","ee","sortByDomNode","te","useOpenClosed","oe","State","B","OpenClosedProvider","ne","useResolveButtonType","re","useOutsideClick","ie","Hidden","ae","le","objectToFormEntries","se","getOwnerDocument","pe","ue","n","Open","Closed","de","Single","Multi","ce","Pointer","Other","fe","a","OpenListbox","CloseListbox","SetDisabled","SetOrientation","GoToOption","Search","ClearSearch","RegisterOption","UnregisterOption","_","t","i","activeOptionIndex","options","e","slice","p","dataRef","current","domRef","o","indexOf","be","disabled","listboxState","propsRef","value","mode","findIndex","r","includes","orientation","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","searchQuery","activationTrigger","trigger","toLowerCase","concat","find","u","textValue","startsWith","s","splice","V","displayName","I","Error","captureStackTrace","Te","type","xe","ye","name","onChange","horizontal","multiple","y","g","v","labelRef","buttonRef","optionsRef","f","O","S","d","l","L","T","x","push","Loose","preventDefault","focus","c","open","P","ref","createElement","Provider","map","features","key","as","hidden","readOnly","ourProps","theirProps","slot","defaultTag","Oe","ge","Space","Enter","ArrowDown","nextFrame","First","ArrowUp","Last","currentTarget","preventScroll","join","onKeyDown","onKeyUp","onClick","Re","me","Le","ve","RenderStrategy","Static","Se","activeElement","dispose","stopPropagation","vertical","ArrowRight","Next","ArrowLeft","Previous","Home","PageUp","End","PageDown","Escape","Tab","length","setTimeout","role","tabIndex","visible","Ae","he","requestAnimationFrame","H","scrollIntoView","call","block","textContent","Nothing","Specific","active","selected","onFocus","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","tt","Object","assign","Button","Label","Options","Option","Listbox"],"mappings":"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","sourcesContent":["import w,{Fragment as W,createContext as Q,createRef as k,useCallback as R,useContext as z,useMemo as D,useReducer as $,useRef as j,useEffect as X}from\"react\";import{useDisposables as U}from\"../../hooks/use-disposables.js\";import{useId as F}from\"../../hooks/use-id.js\";import{useIsoMorphicEffect as A}from\"../../hooks/use-iso-morphic-effect.js\";import{useComputed as K}from\"../../hooks/use-computed.js\";import{useSyncRefs as C}from\"../../hooks/use-sync-refs.js\";import{Features as N,forwardRefWithAs as M,render as E,compact as q}from\"../../utils/render.js\";import{match as h}from\"../../utils/match.js\";import{disposables as G}from\"../../utils/disposables.js\";import{Keys as b}from\"../keyboard.js\";import{Focus as m,calculateActiveIndex as J}from\"../../utils/calculate-active-index.js\";import{isDisabledReactIssue7711 as Y}from\"../../utils/bugs.js\";import{isFocusableElement as Z,FocusableMode as ee,sortByDomNode as te}from\"../../utils/focus-management.js\";import{useOpenClosed as oe,State as B,OpenClosedProvider as ne}from\"../../internal/open-closed.js\";import{useResolveButtonType as re}from\"../../hooks/use-resolve-button-type.js\";import{useOutsideClick as ie}from\"../../hooks/use-outside-click.js\";import{Hidden as ae,Features as le}from\"../../internal/hidden.js\";import{objectToFormEntries as se}from\"../../utils/form.js\";import{getOwnerDocument as pe}from\"../../utils/owner.js\";var ue=(n=>(n[n.Open=0]=\"Open\",n[n.Closed=1]=\"Closed\",n))(ue||{}),de=(n=>(n[n.Single=0]=\"Single\",n[n.Multi=1]=\"Multi\",n))(de||{}),ce=(n=>(n[n.Pointer=0]=\"Pointer\",n[n.Other=1]=\"Other\",n))(ce||{}),fe=(a=>(a[a.OpenListbox=0]=\"OpenListbox\",a[a.CloseListbox=1]=\"CloseListbox\",a[a.SetDisabled=2]=\"SetDisabled\",a[a.SetOrientation=3]=\"SetOrientation\",a[a.GoToOption=4]=\"GoToOption\",a[a.Search=5]=\"Search\",a[a.ClearSearch=6]=\"ClearSearch\",a[a.RegisterOption=7]=\"RegisterOption\",a[a.UnregisterOption=8]=\"UnregisterOption\",a))(fe||{});function _(t,i=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,e=te(i(t.options.slice()),p=>p.dataRef.current.domRef.current),o=n?e.indexOf(n):null;return o===-1&&(o=null),{options:e,activeOptionIndex:o}}let be={[1](t){return t.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1}},[0](t){if(t.disabled||t.listboxState===0)return t;let i=t.activeOptionIndex,{value:n,mode:e}=t.propsRef.current,o=t.options.findIndex(p=>{let r=p.dataRef.current.value;return h(e,{[1]:()=>n.includes(r),[0]:()=>n===r})});return o!==-1&&(i=o),{...t,listboxState:0,activeOptionIndex:i}},[2](t,i){return t.disabled===i.disabled?t:{...t,disabled:i.disabled}},[3](t,i){return t.orientation===i.orientation?t:{...t,orientation:i.orientation}},[4](t,i){var o;if(t.disabled||t.listboxState===1)return t;let n=_(t),e=J(i,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...t,...n,searchQuery:\"\",activeOptionIndex:e,activationTrigger:(o=i.trigger)!=null?o:1}},[5]:(t,i)=>{if(t.disabled||t.listboxState===1)return t;let e=t.searchQuery!==\"\"?0:1,o=t.searchQuery+i.value.toLowerCase(),r=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+e).concat(t.options.slice(0,t.activeOptionIndex+e)):t.options).find(u=>{var a;return!u.dataRef.current.disabled&&((a=u.dataRef.current.textValue)==null?void 0:a.startsWith(o))}),s=r?t.options.indexOf(r):-1;return s===-1||s===t.activeOptionIndex?{...t,searchQuery:o}:{...t,searchQuery:o,activeOptionIndex:s,activationTrigger:1}},[6](t){return t.disabled||t.listboxState===1||t.searchQuery===\"\"?t:{...t,searchQuery:\"\"}},[7]:(t,i)=>{let n={id:i.id,dataRef:i.dataRef},e=_(t,o=>[...o,n]);if(t.activeOptionIndex===null){let{value:o,mode:p}=t.propsRef.current,r=i.dataRef.current.value;h(p,{[1]:()=>o.includes(r),[0]:()=>o===r})&&(e.activeOptionIndex=e.options.indexOf(n))}return{...t,...e}},[8]:(t,i)=>{let n=_(t,e=>{let o=e.findIndex(p=>p.id===i.id);return o!==-1&&e.splice(o,1),e});return{...t,...n,activationTrigger:1}}},V=Q(null);V.displayName=\"ListboxContext\";function I(t){let i=z(V);if(i===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,I),n}return i}function Te(t,i){return h(i.type,be,t,i)}let xe=W,ye=M(function(i,n){let{value:e,name:o,onChange:p,disabled:r=!1,horizontal:s=!1,multiple:u=!1,...a}=i;const y=s?\"horizontal\":\"vertical\";let g=C(n),v=$(Te,{listboxState:1,propsRef:{current:{value:e,onChange:p,mode:u?1:0}},labelRef:k(),buttonRef:k(),optionsRef:k(),disabled:r,orientation:y,options:[],searchQuery:\"\",activeOptionIndex:null,activationTrigger:1}),[{listboxState:f,propsRef:O,optionsRef:S,buttonRef:d},l]=v;O.current.value=e,O.current.mode=u?1:0,A(()=>{O.current.onChange=L=>h(O.current.mode,{[0](){return p(L)},[1](){let T=O.current.value.slice(),x=T.indexOf(L);return x===-1?T.push(L):T.splice(x,1),p(T)}})},[p,O]),A(()=>l({type:2,disabled:r}),[r]),A(()=>l({type:3,orientation:y}),[y]),ie([d,S],(L,T)=>{var x;f===0&&(l({type:1}),Z(T,ee.Loose)||(L.preventDefault(),(x=d.current)==null||x.focus()))});let c=D(()=>({open:f===0,disabled:r}),[f,r]),P={ref:g};return w.createElement(V.Provider,{value:v},w.createElement(ne,{value:h(f,{[0]:B.Open,[1]:B.Closed})},o!=null&&e!=null&&se({[o]:e}).map(([L,T])=>w.createElement(ae,{features:le.Hidden,...q({key:L,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,name:L,value:T})})),E({ourProps:P,theirProps:a,slot:c,defaultTag:xe,name:\"Listbox\"})))}),Oe=\"button\",ge=M(function(i,n){var S;let[e,o]=I(\"Listbox.Button\"),p=C(e.buttonRef,n),r=`headlessui-listbox-button-${F()}`,s=U(),u=R(d=>{switch(d.key){case b.Space:case b.Enter:case b.ArrowDown:d.preventDefault(),o({type:0}),s.nextFrame(()=>{e.propsRef.current.value||o({type:4,focus:m.First})});break;case b.ArrowUp:d.preventDefault(),o({type:0}),s.nextFrame(()=>{e.propsRef.current.value||o({type:4,focus:m.Last})});break}},[o,e,s]),a=R(d=>{switch(d.key){case b.Space:d.preventDefault();break}},[]),y=R(d=>{if(Y(d.currentTarget))return d.preventDefault();e.listboxState===0?(o({type:1}),s.nextFrame(()=>{var l;return(l=e.buttonRef.current)==null?void 0:l.focus({preventScroll:!0})})):(d.preventDefault(),o({type:0}))},[o,s,e]),g=K(()=>{if(!!e.labelRef.current)return[e.labelRef.current.id,r].join(\" \")},[e.labelRef.current,r]),v=D(()=>({open:e.listboxState===0,disabled:e.disabled}),[e]),f=i,O={ref:p,id:r,type:re(i,e.buttonRef),\"aria-haspopup\":!0,\"aria-controls\":(S=e.optionsRef.current)==null?void 0:S.id,\"aria-expanded\":e.disabled?void 0:e.listboxState===0,\"aria-labelledby\":g,disabled:e.disabled,onKeyDown:u,onKeyUp:a,onClick:y};return E({ourProps:O,theirProps:f,slot:v,defaultTag:Oe,name:\"Listbox.Button\"})}),Re=\"label\",me=M(function(i,n){let[e]=I(\"Listbox.Label\"),o=`headlessui-listbox-label-${F()}`,p=C(e.labelRef,n),r=R(()=>{var y;return(y=e.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})},[e.buttonRef]),s=D(()=>({open:e.listboxState===0,disabled:e.disabled}),[e]);return E({ourProps:{ref:p,id:o,onClick:r},theirProps:i,slot:s,defaultTag:Re,name:\"Listbox.Label\"})}),Le=\"ul\",ve=N.RenderStrategy|N.Static,Se=M(function(i,n){var d;let[e,o]=I(\"Listbox.Options\"),p=C(e.optionsRef,n),r=`headlessui-listbox-options-${F()}`,s=U(),u=U(),a=oe(),y=(()=>a!==null?a===B.Open:e.listboxState===0)();X(()=>{var c;let l=e.optionsRef.current;!l||e.listboxState===0&&l!==((c=pe(l))==null?void 0:c.activeElement)&&l.focus({preventScroll:!0})},[e.listboxState,e.optionsRef]);let g=R(l=>{switch(u.dispose(),l.key){case b.Space:if(e.searchQuery!==\"\")return l.preventDefault(),l.stopPropagation(),o({type:5,value:l.key});case b.Enter:if(l.preventDefault(),l.stopPropagation(),e.activeOptionIndex!==null){let{dataRef:c}=e.options[e.activeOptionIndex];e.propsRef.current.onChange(c.current.value)}e.propsRef.current.mode===0&&(o({type:1}),G().nextFrame(()=>{var c;return(c=e.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}));break;case h(e.orientation,{vertical:b.ArrowDown,horizontal:b.ArrowRight}):return l.preventDefault(),l.stopPropagation(),o({type:4,focus:m.Next});case h(e.orientation,{vertical:b.ArrowUp,horizontal:b.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),o({type:4,focus:m.Previous});case b.Home:case b.PageUp:return l.preventDefault(),l.stopPropagation(),o({type:4,focus:m.First});case b.End:case b.PageDown:return l.preventDefault(),l.stopPropagation(),o({type:4,focus:m.Last});case b.Escape:return l.preventDefault(),l.stopPropagation(),o({type:1}),s.nextFrame(()=>{var c;return(c=e.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})});case b.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(o({type:5,value:l.key}),u.setTimeout(()=>o({type:6}),350));break}},[s,o,u,e]),v=K(()=>{var l,c,P;return(P=(l=e.labelRef.current)==null?void 0:l.id)!=null?P:(c=e.buttonRef.current)==null?void 0:c.id},[e.labelRef.current,e.buttonRef.current]),f=D(()=>({open:e.listboxState===0}),[e]),O=i,S={\"aria-activedescendant\":e.activeOptionIndex===null||(d=e.options[e.activeOptionIndex])==null?void 0:d.id,\"aria-multiselectable\":e.propsRef.current.mode===1?!0:void 0,\"aria-labelledby\":v,\"aria-orientation\":e.orientation,id:r,onKeyDown:g,role:\"listbox\",tabIndex:0,ref:p};return E({ourProps:S,theirProps:O,slot:f,defaultTag:Le,features:ve,visible:y,name:\"Listbox.Options\"})}),Ae=\"li\",he=M(function(i,n){let{disabled:e=!1,value:o,...p}=i,[r,s]=I(\"Listbox.Option\"),u=`headlessui-listbox-option-${F()}`,a=r.activeOptionIndex!==null?r.options[r.activeOptionIndex].id===u:!1,y=h(r.propsRef.current.mode,{[1]:()=>r.propsRef.current.value.includes(o),[0]:()=>r.propsRef.current.value===o}),g=j(null),v=C(n,g);A(()=>{if(r.listboxState!==0||!a||r.activationTrigger===0)return;let T=G();return T.requestAnimationFrame(()=>{var x,H;(H=(x=g.current)==null?void 0:x.scrollIntoView)==null||H.call(x,{block:\"nearest\"})}),T.dispose},[g,a,r.listboxState,r.activationTrigger,r.activeOptionIndex]);let f=j({disabled:e,value:o,domRef:g});A(()=>{f.current.disabled=e},[f,e]),A(()=>{f.current.value=o},[f,o]),A(()=>{var T,x;f.current.textValue=(x=(T=g.current)==null?void 0:T.textContent)==null?void 0:x.toLowerCase()},[f,g]);let O=R(()=>r.propsRef.current.onChange(o),[r.propsRef,o]);A(()=>(s({type:7,id:u,dataRef:f}),()=>s({type:8,id:u})),[f,u]);let S=R(T=>{if(e)return T.preventDefault();O(),r.propsRef.current.mode===0&&(s({type:1}),G().nextFrame(()=>{var x;return(x=r.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}))},[s,r.buttonRef,e,O]),d=R(()=>{if(e)return s({type:4,focus:m.Nothing});s({type:4,focus:m.Specific,id:u})},[e,u,s]),l=R(()=>{e||a||s({type:4,focus:m.Specific,id:u,trigger:0})},[e,a,u,s]),c=R(()=>{e||!a||s({type:4,focus:m.Nothing})},[e,a,s]),P=D(()=>({active:a,selected:y,disabled:e}),[a,y,e]);return E({ourProps:{id:u,ref:v,role:\"option\",tabIndex:e===!0?void 0:-1,\"aria-disabled\":e===!0?!0:void 0,\"aria-selected\":y===!0?!0:void 0,disabled:void 0,onClick:S,onFocus:d,onPointerMove:l,onMouseMove:l,onPointerLeave:c,onMouseLeave:c},theirProps:p,slot:P,defaultTag:Ae,name:\"Listbox.Option\"})}),tt=Object.assign(ye,{Button:ge,Label:me,Options:Se,Option:he});export{tt as Listbox};\r\n"]},"metadata":{},"sourceType":"module"}